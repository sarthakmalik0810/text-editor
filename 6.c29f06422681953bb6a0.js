(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{BE0I:function(e,t,n){"use strict";n.r(t),n.d(t,"EditorModule",function(){return m});var c=n("ofXK"),i=n("tyNb"),o=n("fXoL"),r=n("y5O5"),b=n("ly3A"),a=n("p20J"),u=n("/t3+");function s(e,t){if(1&e){const e=o.Ob();o.Nb(0,"button",4),o.Ub("click",function(){return o.ec(e),o.Wb().deleteDoc()}),o.Lb(1,"i",56),o.Mb()}}const l=[{path:"",component:(()=>{class e{constructor(e,t,n,c,i){this.usersFirebaseService=e,this.userDocumentService=t,this.ar=n,this.router=c,this.snackbarService=i,this.defaultDocumentName="Untitled Document"}ngOnInit(){this.editorPane=document.getElementsByTagName("iframe")[0].contentDocument||document.getElementsByTagName("iframe")[0].contentWindow.document,this.ar.queryParams.subscribe(e=>{this.currentDocument=e.docId,this.userDocumentService.findDocument(this.currentDocument).subscribe(e=>{this.editorPane.getElementsByTagName("body")[0].innerHTML=e.docs[0].data().htmlString})}),this.documentName=this.defaultDocumentName,this.usersFirebaseService.user$.subscribe(e=>{this.loggedInUser=e}),this.editorPane.designMode="on"}execCmd(e){this.editorPane.execCommand(e,!1,null)}openExistingHTML(){}execCmdWithArgs(e,t){this.editorPane.execCommand(e,!1,t)}addLink(){var e=prompt("Enter a URL:","http://");this.editorPane.execCommand("createLink",!0,e),this.editorPane.getSelection().anchorNode.parentElement.target="_blank"}toggleSource(){}getDocumentName(e){this.documentName=e}saveHTML(){this.loggedInUser?this.currentDocument?(this.userDocumentService.updateUserDocument(this.currentDocument,this.editorPane.getElementsByTagName("body")[0].innerHTML),this.snackbarService.openSnackbarWithStyle("Document updated successfully","green-snackbar")):this.userDocumentService.findDocumentUsingDocName(this.documentName).subscribe(e=>{const t=[];e.docs.forEach(e=>{t.push(e.data())}),t.length&&(this.documentName=`${this.documentName}(${t.length+1})`),this.userDocumentService.addUserDocument({userId:this.loggedInUser.uid,emailId:this.loggedInUser.email,htmlString:this.editorPane.getElementsByTagName("body")[0].innerHTML,documentName:this.documentName,uploadDate:new Date}).then(e=>{this.snackbarService.openSnackbarWithStyle("Document added successfully","green-snackbar"),this.router.navigate([],{relativeTo:this.ar,queryParams:{docId:e.id}})})}):(this.snackbarService.openSnackbarWithStyle("You are not loggen in!","red-snackbar"),this.router.navigate(["/login"]))}deleteDoc(){this.userDocumentService.deleteUserDocument(this.currentDocument),this.snackbarService.openSnackbarWithStyle("Document deleted Successfully","red-snackbar"),this.router.navigate(["/dashboard"])}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(r.a),o.Kb(b.a),o.Kb(i.a),o.Kb(i.b),o.Kb(a.a))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-editor-home"]],decls:120,vars:1,consts:[[1,"full-page","bg"],[1,"d-flex","justify-content-center"],["color","#000000"],["contenteditable","",2,"border-color","white",3,"input"],[1,"btn","btn-default",2,"color","white",3,"click"],[1,"fas","fa-bold"],[1,"fas","fa-italic"],[1,"fas","fa-underline"],[1,"fas","fa-strikethrough"],[1,"fas","fa-align-left"],[1,"fas","fa-align-right"],[1,"fas","fa-align-center"],[1,"fas","fa-align-justify"],[1,"fas","fa-cut"],[1,"fas","fa-paste"],[1,"fas","fa-copy"],[1,"fas","fa-indent"],[1,"fas","fa-outdent"],[1,"fas","fa-subscript"],[1,"fas","fa-superscript"],[1,"fas","fa-undo"],[1,"fas","fa-redo"],[1,"fas","fa-list-ul"],[1,"fas","fa-list-ol"],[1,"fas","fa-paragraph"],[3,"change"],["value","H1"],["value","H2"],["value","H3"],["value","H4"],["value","H5"],["value","H6"],[1,"fas","fa-unlink"],["value","Arial"],["value","Comic Sans MS"],["value","Courier"],["value","Georgia"],["value","Tahoma"],["value","Times New Roman"],["value","Verdana"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],[1,"example-spacer"],["type","color",3,"change"],["class","btn btn-default","style","color:white",3,"click",4,"ngIf"],[1,"d-flex","justify-content-center",2,"height","100%"],["name","textEditor","spellcheck","true",1,"text-editor"],["aria-hidden","true",1,"fa","fa-trash"]],template:function(e,t){1&e&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Nb(2,"mat-toolbar",2),o.Nb(3,"mat-toolbar-row"),o.Nb(4,"span",3),o.Ub("input",function(e){return t.getDocumentName(e.target.innerText)}),o.Nb(5,"h4"),o.nc(6,"Untitled Document"),o.Mb(),o.Mb(),o.Nb(7,"span"),o.nc(8,"\xa0\xa0"),o.Mb(),o.Nb(9,"span"),o.Nb(10,"button",4),o.Ub("click",function(){return t.execCmd("bold")}),o.Lb(11,"i",5),o.Mb(),o.Nb(12,"button",4),o.Ub("click",function(){return t.execCmd("italic")}),o.Lb(13,"i",6),o.Mb(),o.Nb(14,"button",4),o.Ub("click",function(){return t.execCmd("underline")}),o.Lb(15,"i",7),o.Mb(),o.Nb(16,"button",4),o.Ub("click",function(){return t.execCmd("strikeThrough")}),o.Lb(17,"i",8),o.Mb(),o.Nb(18,"button",4),o.Ub("click",function(){return t.execCmd("justifyLeft")}),o.Lb(19,"i",9),o.Mb(),o.Nb(20,"button",4),o.Ub("click",function(){return t.execCmd("justifyRight")}),o.Lb(21,"i",10),o.Mb(),o.Nb(22,"button",4),o.Ub("click",function(){return t.execCmd("justifyCenter")}),o.Lb(23,"i",11),o.Mb(),o.Nb(24,"button",4),o.Ub("click",function(){return t.execCmd("justifyFull")}),o.Lb(25,"i",12),o.Mb(),o.Nb(26,"button",4),o.Ub("click",function(){return t.execCmd("cut")}),o.Lb(27,"i",13),o.Mb(),o.Nb(28,"button",4),o.Ub("click",function(){return t.execCmd("paste")}),o.Lb(29,"i",14),o.Mb(),o.Nb(30,"button",4),o.Ub("click",function(){return t.execCmd("copy")}),o.Lb(31,"i",15),o.Mb(),o.Nb(32,"button",4),o.Ub("click",function(){return t.execCmd("indent")}),o.Lb(33,"i",16),o.Mb(),o.Nb(34,"button",4),o.Ub("click",function(){return t.execCmd("outdent")}),o.Lb(35,"i",17),o.Mb(),o.Nb(36,"button",4),o.Ub("click",function(){return t.execCmd("subscript")}),o.Lb(37,"i",18),o.Mb(),o.Nb(38,"button",4),o.Ub("click",function(){return t.execCmd("superscript")}),o.Lb(39,"i",19),o.Mb(),o.Nb(40,"button",4),o.Ub("click",function(){return t.execCmd("undo")}),o.Lb(41,"i",20),o.Mb(),o.Nb(42,"button",4),o.Ub("click",function(){return t.execCmd("redo")}),o.Lb(43,"i",21),o.Mb(),o.Nb(44,"button",4),o.Ub("click",function(){return t.execCmd("insertUnorderedList")}),o.Lb(45,"i",22),o.Mb(),o.Nb(46,"button",4),o.Ub("click",function(){return t.execCmd("insertOrderedList")}),o.Lb(47,"i",23),o.Mb(),o.Nb(48,"button",4),o.Ub("click",function(){return t.execCmd("insertParagraph")}),o.Lb(49,"i",24),o.Mb(),o.Nb(50,"select",25),o.Ub("change",function(e){return t.execCmdWithArgs("formatBlock",e.target.value)}),o.Nb(51,"option",26),o.nc(52,"H1"),o.Mb(),o.Nb(53,"option",27),o.nc(54,"H2"),o.Mb(),o.Nb(55,"option",28),o.nc(56,"H3"),o.Mb(),o.Nb(57,"option",29),o.nc(58,"H4"),o.Mb(),o.Nb(59,"option",30),o.nc(60,"H5"),o.Mb(),o.Nb(61,"option",31),o.nc(62,"H6"),o.Mb(),o.Mb(),o.Nb(63,"button",4),o.Ub("click",function(){return t.execCmd("inSertHorizontalRule")}),o.nc(64,"HR"),o.Mb(),o.Nb(65,"button",4),o.Ub("click",function(){return t.addLink()}),o.Lb(66,"i",32),o.Mb(),o.Nb(67,"select",25),o.Ub("change",function(e){return t.execCmdWithArgs("fontName",e.target.value)}),o.Nb(68,"option",33),o.nc(69,"Arial"),o.Mb(),o.Nb(70,"option",34),o.nc(71,"Comic Sans MS"),o.Mb(),o.Nb(72,"option",35),o.nc(73,"Courier"),o.Mb(),o.Nb(74,"option",36),o.nc(75,"Georgia"),o.Mb(),o.Nb(76,"option",37),o.nc(77,"Tahoma"),o.Mb(),o.Nb(78,"option",38),o.nc(79,"Times New Roman"),o.Mb(),o.Nb(80,"option",39),o.nc(81,"Verdana"),o.Mb(),o.Mb(),o.Nb(82,"select",25),o.Ub("change",function(e){return t.execCmdWithArgs("fontSize",e.target.value)}),o.Nb(83,"option",40),o.nc(84,"1"),o.Mb(),o.Nb(85,"option",41),o.nc(86,"2"),o.Mb(),o.Nb(87,"option",42),o.nc(88,"3"),o.Mb(),o.Nb(89,"option",43),o.nc(90,"4"),o.Mb(),o.Nb(91,"option",44),o.nc(92,"5"),o.Mb(),o.Nb(93,"option",45),o.nc(94,"6"),o.Mb(),o.Nb(95,"option",46),o.nc(96,"7"),o.Mb(),o.Nb(97,"option",47),o.nc(98,"8"),o.Mb(),o.Nb(99,"option",48),o.nc(100,"9"),o.Mb(),o.Nb(101,"option",49),o.nc(102,"10"),o.Mb(),o.Nb(103,"option",50),o.nc(104,"11"),o.Mb(),o.Mb(),o.Mb(),o.Lb(105,"span",51),o.Nb(106,"button",4),o.Ub("click",function(){return t.saveHTML()}),o.nc(107,"SAVE"),o.Mb(),o.Mb(),o.Nb(108,"mat-toolbar-row"),o.Nb(109,"span"),o.nc(110," Text Color: "),o.Nb(111,"input",52),o.Ub("change",function(e){return t.execCmdWithArgs("foreColor",e.target.value)}),o.Mb(),o.nc(112," Background: "),o.Nb(113,"input",52),o.Ub("change",function(e){return t.execCmdWithArgs("hiliteColor",e.target.value)}),o.Mb(),o.Nb(114,"button",4),o.Ub("click",function(){return t.execCmd("selectAll")}),o.nc(115,"Select All"),o.Mb(),o.lc(116,s,2,0,"button",53),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Nb(117,"div",54),o.Nb(118,"iframe",55),o.Lb(119,"body"),o.Mb(),o.Mb(),o.Mb()),2&e&&(o.Ab(116),o.bc("ngIf",t.currentDocument))},directives:[u.a,u.c,c.j],styles:[".text-editor[_ngcontent-%COMP%]{width:45%;height:90%;background-color:#f7f7f7;margin-top:20px;border:none;padding:20px;box-shadow:5px 5px 5px 5px #888}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.bodybg-color[_ngcontent-%COMP%]{background-color:#fff}.full-page[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}"]}),e})()}];let d=(()=>{class e{}return e.\u0275mod=o.Ib({type:e}),e.\u0275inj=o.Hb({factory:function(t){return new(t||e)},imports:[[i.e.forChild(l)],i.e]}),e})(),m=(()=>{class e{}return e.\u0275mod=o.Ib({type:e}),e.\u0275inj=o.Hb({factory:function(t){return new(t||e)},imports:[[c.c,d,u.b]]}),e})()}}]);