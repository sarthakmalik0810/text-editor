(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{g7DB:function(n,i,o){"use strict";o.r(i),o.d(i,"LoginModule",function(){return m});var e=o("ofXK"),r=o("tyNb"),t=o("mrSG"),s=o("3Pt+"),l=o("fXoL"),a=o("y5O5"),c=o("dNgK"),d=o("p20J");function g(n,i){if(1&n){const n=l.Ob();l.Nb(0,"div",7),l.Lb(1,"input",8),l.Lb(2,"input",9),l.Nb(3,"button",10),l.Ub("click",function(){return l.ec(n),l.Wb().signInHandler()}),l.nc(4,"Login"),l.Mb(),l.Nb(5,"div",11),l.nc(6," Not signed up yet? "),l.Nb(7,"span",12),l.Ub("click",function(){return l.ec(n),l.Wb().toggleForm()}),l.nc(8,"Register Now"),l.Mb(),l.Mb(),l.Mb()}}function p(n,i){if(1&n){const n=l.Ob();l.Nb(0,"div",7),l.Lb(1,"input",8),l.Lb(2,"input",9),l.Lb(3,"input",13),l.Nb(4,"button",10),l.Ub("click",function(){return l.ec(n),l.Wb().signUpHandler()}),l.nc(5,"Sign Up"),l.Mb(),l.Nb(6,"div",11),l.nc(7," Already Signed up? "),l.Nb(8,"span",12),l.Ub("click",function(){return l.ec(n),l.Wb().toggleForm()}),l.nc(9,"Login"),l.Mb(),l.Mb(),l.Mb()}}function u(n,i){1&n&&(l.Nb(0,"div",14),l.nc(1," Password Confirmation must match. "),l.Mb())}function f(n,i){1&n&&(l.Nb(0,"div",14),l.nc(1," Password must be atleast 6 characters "),l.Mb())}const b=[{path:"",component:(()=>{class n{constructor(n,i,o,e,r){this.usersFirebaseService=n,this.formBuilder=i,this.snackbar=o,this.router=e,this.snackbarService=r,this.foundUsers=[],this.arr=[],this.signInForm=!0}signInHandler(){var n,i;return Object(t.a)(this,void 0,void 0,function*(){if(this.login.invalid){if((null===(n=this.login.controls.email.errors)||void 0===n?void 0:n.required)||this.login.controls.email.invalid)return void this.snackbarService.open("Please enter valid email");if(null===(i=this.login.controls.password.errors)||void 0===i?void 0:i.required)return void this.openSnackBar("Please enter a Password")}let o=this.login.get("email").value,e=this.login.get("password").value,r=yield this.usersFirebaseService.signIn(o,e);r.bool?this.router.navigate(["/dashboard"]):this.openSnackBar(r.error)})}signUpHandler(){var n,i,o,e;return Object(t.a)(this,void 0,void 0,function*(){if(this.signUp.invalid){if((null===(n=this.signUp.controls.email.errors)||void 0===n?void 0:n.required)||this.signUp.controls.email.invalid)return void this.openSnackBar("Please enter valid Email");if((null===(i=this.signUp.controls.password.errors)||void 0===i?void 0:i.required)||(null===(o=this.signUp.controls.confirmPassword.errors)||void 0===o?void 0:o.required)||(null===(e=this.signUp.controls.password.errors)||void 0===e?void 0:e.minLength))return void this.openSnackBar("Please enter valid password");if(this.signUp.get("password")!==this.signUp.get("confirmPassword"))return void this.openSnackBar("Passwords don't match")}this.foundUsers=[];let r=this.signUp.get("email").value,t=this.signUp.get("password").value;this.validateUser(r,t)})}toggleForm(){this.signInForm=!this.signInForm,this.login.reset(),this.signUp.reset()}ngOnInit(){this.initLoginForm(),this.initSignUpForm()}initLoginForm(){this.login=this.formBuilder.group({email:["",[s.i.required,s.i.email]],password:["",s.i.required]})}initSignUpForm(){this.signUp=this.formBuilder.group({email:["",[s.i.required,s.i.email]],password:["",[s.i.required,s.i.minLength(6)]],confirmPassword:["",[s.i.required,this.passwordCheck()]]})}passwordCheck(){return n=>{if(!n||!n.parent)return null;const i=n.parent.get("password"),o=n.parent.get("confirmPassword");return i&&o?""===o.value||i.value===o.value?null:{mismatch:!0}:null}}openSnackBar(n){this.snackbar.open(n,"X",{duration:2e3})}deleteUser(n){this.usersFirebaseService.deleteUser(n)}findUser(n){return Object(t.a)(this,void 0,void 0,function*(){this.usersFirebaseService.findUser(n).subscribe(n=>{n.docs.forEach(n=>{this.foundUsers.push(n.data())})},n=>console.log(n))})}validateUser(n,i){this.usersFirebaseService.findUser(n).subscribe(n=>{n.docs.forEach(n=>{this.foundUsers.push(n.data())})},n=>console.log(n),()=>{this.foundUsers.length>0?this.openSnackBar("Email already exists! Please Sign in!"):(this.usersFirebaseService.createUserAuth(n,i),this.openSnackBar("Successfully registered! Kindly login"),this.signInForm=!0,this.login.reset(),this.signUp.reset(),this.router.navigate(["/dashboard"]))})}}return n.\u0275fac=function(i){return new(i||n)(l.Kb(a.a),l.Kb(s.b),l.Kb(c.a),l.Kb(r.b),l.Kb(d.a))},n.\u0275cmp=l.Eb({type:n,selectors:[["app-login"]],decls:11,vars:6,consts:[[1,"top-bar"],["routerLink","/landing",1,"logo"],[1,"intro"],[1,"login-card"],[3,"formGroup"],["class","login-form-container",4,"ngIf"],["style","text-align: center; color: red;",4,"ngIf"],[1,"login-form-container"],["type","text","formControlName","email","placeholder","email",1,"input-field"],["type","password","formControlName","password","placeholder","password",1,"input-field"],[1,"login-btn",3,"click"],[1,"register-now"],[1,"link",3,"click"],["type","password","formControlName","confirmPassword","placeholder","Type password again",1,"input-field"],[2,"text-align","center","color","red"]],template:function(n,i){1&n&&(l.Nb(0,"section",0),l.Nb(1,"p",1),l.nc(2,"texty"),l.Mb(),l.Mb(),l.Nb(3,"section",2),l.Nb(4,"div",3),l.Nb(5,"form",4),l.lc(6,g,9,0,"div",5),l.Mb(),l.Nb(7,"form",4),l.lc(8,p,10,0,"div",5),l.Mb(),l.lc(9,u,2,0,"div",6),l.lc(10,f,2,0,"div",6),l.Mb(),l.Mb()),2&n&&(l.Ab(5),l.bc("formGroup",i.login),l.Ab(1),l.bc("ngIf",i.signInForm),l.Ab(1),l.bc("formGroup",i.signUp),l.Ab(1),l.bc("ngIf",!i.signInForm),l.Ab(1),l.bc("ngIf",null==i.signUp.get("confirmPassword").errors?null:i.signUp.get("confirmPassword").errors.mismatch),l.Ab(1),l.bc("ngIf",null==i.signUp.get("password").errors?null:i.signUp.get("password").errors.minlength))},directives:[r.c,s.j,s.g,s.d,e.j,s.a,s.f,s.c],styles:["@import url(\"https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap\");@import url(\"https://fonts.googleapis.com/css2?family=Oswald&display=swap\");*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;overflow:hidden}a[_ngcontent-%COMP%]{text-decoration:none!important;color:#fff}a[_ngcontent-%COMP%]:hover{color:#f0f8ff}.top-bar[_ngcontent-%COMP%]{width:100%;height:8vh;background-color:#212121;display:flex;justify-content:space-between;align-items:center;padding:0 1rem;position:fixed;z-index:100}ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{cursor:pointer}.register-now[_ngcontent-%COMP%]{color:#f0f8ff}.link[_ngcontent-%COMP%]:hover{color:#6495ed;text-decoration:underline;cursor:pointer}.logo[_ngcontent-%COMP%]{display:inline-block;margin:0;height:3rem;font-family:Oswald,sans-serif;font-weight:300;font-size:3rem;color:#fff;padding-top:6px}.logo[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1);transition:all 1s}.logo[_ngcontent-%COMP%]:active, .logo[_ngcontent-%COMP%]:focus{outline:none}.intro[_ngcontent-%COMP%]{height:100vh;background-color:#000;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 1600 800'%3E%3Cg %3E%3Cpolygon fill='%23222222' points='800 100 0 200 0 800 1600 800 1600 200'/%3E%3Cpolygon fill='%23444444' points='800 200 0 400 0 800 1600 800 1600 400'/%3E%3Cpolygon fill='%23666666' points='800 300 0 600 0 800 1600 800 1600 600'/%3E%3Cpolygon fill='%23888888' points='1600 800 800 400 0 800'/%3E%3Cpolygon fill='%23aaaaaa' points='1280 800 800 500 320 800'/%3E%3Cpolygon fill='%23cccccc' points='533.3 800 1066.7 800 800 600'/%3E%3Cpolygon fill='%23EEE' points='684.1 800 914.3 800 800 700'/%3E%3C/g%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.login-card[_ngcontent-%COMP%]{background-color:#212121;border:.2px solid #26418f;height:600px;width:400px;max-width:90%;max-height:80%;border-radius:10px}.input-field[_ngcontent-%COMP%]{border-radius:500px;border:1px solid grey;box-sizing:border-box;display:block;width:80%;height:3rem;padding:14px;font-size:.95rem;background-color:#212121;color:#fff}.input-field[_ngcontent-%COMP%]:focus{outline:none;border-color:#f0f8ff}.login-form-container[_ngcontent-%COMP%]{display:flex;height:300px;margin-top:100px;flex-direction:column;justify-content:space-evenly;align-items:center}.login-btn[_ngcontent-%COMP%]{background-color:#26418f;border-radius:20px;color:#f0f8ff;border:none;width:50%;height:2rem}.login-btn[_ngcontent-%COMP%]:hover{background-color:#f0f8ff;color:#26418f}"]}),n})()}];let h=(()=>{class n{}return n.\u0275mod=l.Ib({type:n}),n.\u0275inj=l.Hb({factory:function(i){return new(i||n)},imports:[[r.e.forChild(b)],r.e]}),n})(),m=(()=>{class n{}return n.\u0275mod=l.Ib({type:n}),n.\u0275inj=l.Hb({factory:function(i){return new(i||n)},imports:[[e.c,h,s.h,c.b,s.e]]}),n})()}}]);