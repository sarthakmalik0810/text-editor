(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{g7DB:function(e,i,n){"use strict";n.r(i),n.d(i,"LoginModule",function(){return v});var r=n("ofXK"),o=n("tyNb"),t=n("mrSG"),s=n("3Pt+"),a=n("fXoL"),l=n("y5O5"),c=n("dNgK"),d=n("p20J"),g=n("ly3A");function u(e,i){if(1&e){const e=a.Ob();a.Nb(0,"div",7),a.Lb(1,"input",8),a.Lb(2,"input",9),a.Nb(3,"button",10),a.Vb("click",function(){return a.jc(e),a.Xb().signInHandler()}),a.sc(4,"Login"),a.Mb(),a.Nb(5,"div",11),a.sc(6," Not signed up yet? "),a.Nb(7,"span",12),a.Vb("click",function(){return a.jc(e),a.Xb().toggleForm()}),a.sc(8,"Register Now"),a.Mb(),a.Mb(),a.Mb()}}function p(e,i){if(1&e){const e=a.Ob();a.Nb(0,"div",7),a.Lb(1,"input",8),a.Lb(2,"input",9),a.Lb(3,"input",13),a.Nb(4,"button",10),a.Vb("click",function(){return a.jc(e),a.Xb().signUpHandler()}),a.sc(5,"Sign Up"),a.Mb(),a.Nb(6,"div",11),a.sc(7," Already Signed up? "),a.Nb(8,"span",12),a.Vb("click",function(){return a.jc(e),a.Xb().toggleForm()}),a.sc(9,"Login"),a.Mb(),a.Mb(),a.Mb()}}function b(e,i){1&e&&(a.Nb(0,"div",14),a.sc(1," Password Confirmation must match. "),a.Mb())}function h(e,i){1&e&&(a.Nb(0,"div",14),a.sc(1," Password must be atleast 6 characters "),a.Mb())}const f=[{path:"",component:(()=>{class e{constructor(e,i,n,r,o,t,s){this.usersFirebaseService=e,this.formBuilder=i,this.snackbar=n,this.router=r,this.snackbarService=o,this.ar=t,this.userDocumentService=s,this.foundUsers=[],this.arr=[],this.signInForm=!0}signInHandler(){var e,i;return Object(t.a)(this,void 0,void 0,function*(){if(this.login.invalid){if((null===(e=this.login.controls.email.errors)||void 0===e?void 0:e.required)||this.login.controls.email.invalid)return void this.snackbarService.openSnackbarWithStyle("Please enter valid email","red-snackbar");if(null===(i=this.login.controls.password.errors)||void 0===i?void 0:i.required)return void this.snackbarService.openSnackbarWithStyle("Please enter a Password","red-snackbar")}let n=this.login.get("email").value,r=this.login.get("password").value,o=yield this.usersFirebaseService.signIn(n,r);o.bool?"false"==this.loggedInStatus?(this.router.navigate(["/editor"],{queryParams:{mode:"get_saved"},skipLocationChange:!0}),this.userDocumentService.setTakeFromLocatlStorage(!0)):this.router.navigate(["/dashboard"]):this.snackbarService.openSnackbarWithStyle(o.error,"red-snackbar")})}signUpHandler(){var e,i,n,r;return Object(t.a)(this,void 0,void 0,function*(){if(this.signUp.invalid){if((null===(e=this.signUp.controls.email.errors)||void 0===e?void 0:e.required)||this.signUp.controls.email.invalid)return void this.snackbarService.openSnackbarWithStyle("Please enter valid Email","red-snackbar");if((null===(i=this.signUp.controls.password.errors)||void 0===i?void 0:i.required)||(null===(n=this.signUp.controls.confirmPassword.errors)||void 0===n?void 0:n.required)||(null===(r=this.signUp.controls.password.errors)||void 0===r?void 0:r.minLength))return void this.snackbarService.openSnackbarWithStyle("Please enter valid password","red-snackbar");if(this.signUp.get("password")!==this.signUp.get("confirmPassword"))return void this.snackbarService.openSnackbarWithStyle("Passwords don't match","red-snackbar")}this.foundUsers=[];let o=this.signUp.get("email").value,t=this.signUp.get("password").value;this.validateUser(o,t)})}toggleForm(){this.signInForm=!this.signInForm,this.login.reset(),this.signUp.reset()}ngOnInit(){this.initLoginForm(),this.initSignUpForm(),this.ar.queryParams.subscribe(e=>{this.loggedInStatus=e.loggedIn,console.log(e),console.log(this.loggedInStatus)})}initLoginForm(){this.login=this.formBuilder.group({email:["",[s.i.required,s.i.email]],password:["",s.i.required]})}initSignUpForm(){this.signUp=this.formBuilder.group({email:["",[s.i.required,s.i.email]],password:["",[s.i.required,s.i.minLength(6)]],confirmPassword:["",[s.i.required,this.passwordCheck()]]})}passwordCheck(){return e=>{if(!e||!e.parent)return null;const i=e.parent.get("password"),n=e.parent.get("confirmPassword");return i&&n?""===n.value||i.value===n.value?null:{mismatch:!0}:null}}openSnackBar(e){this.snackbar.open(e,"X",{duration:2e3})}deleteUser(e){this.usersFirebaseService.deleteUser(e)}findUser(e){return Object(t.a)(this,void 0,void 0,function*(){this.usersFirebaseService.findUser(e).subscribe(e=>{e.docs.forEach(e=>{this.foundUsers.push(e.data())})},e=>console.log(e))})}validateUser(e,i){this.usersFirebaseService.findUser(e).subscribe(e=>{e.docs.forEach(e=>{this.foundUsers.push(e.data())})},e=>console.log(e),()=>{this.foundUsers.length>0?this.snackbarService.openSnackbarWithStyle("Email already exists! Please Sign in!","red-snackbar"):(this.usersFirebaseService.createUserAuth(e,i),this.snackbarService.openSnackbarWithStyle("Successfully registered! Kindly login","green-snackbar"),this.signInForm=!0,this.login.reset(),this.signUp.reset(),this.router.navigate(["/dashboard"]))})}}return e.\u0275fac=function(i){return new(i||e)(a.Kb(l.a),a.Kb(s.b),a.Kb(c.a),a.Kb(o.b),a.Kb(d.a),a.Kb(o.a),a.Kb(g.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-login"]],decls:11,vars:6,consts:[[1,"top-bar"],["routerLink","/landing",1,"logo"],[1,"intro"],[1,"login-card"],[3,"formGroup"],["class","login-form-container",4,"ngIf"],["style","text-align: center; color: red;",4,"ngIf"],[1,"login-form-container"],["type","text","formControlName","email","placeholder","email",1,"input-field"],["type","password","formControlName","password","placeholder","password",1,"input-field"],[1,"login-btn",3,"click"],[1,"register-now"],[1,"link",3,"click"],["type","password","formControlName","confirmPassword","placeholder","Type password again",1,"input-field"],[2,"text-align","center","color","red"]],template:function(e,i){1&e&&(a.Nb(0,"section",0),a.Nb(1,"p",1),a.sc(2,"texty"),a.Mb(),a.Mb(),a.Nb(3,"section",2),a.Nb(4,"div",3),a.Nb(5,"form",4),a.qc(6,u,9,0,"div",5),a.Mb(),a.Nb(7,"form",4),a.qc(8,p,10,0,"div",5),a.Mb(),a.qc(9,b,2,0,"div",6),a.qc(10,h,2,0,"div",6),a.Mb(),a.Mb()),2&e&&(a.Ab(5),a.dc("formGroup",i.login),a.Ab(1),a.dc("ngIf",i.signInForm),a.Ab(1),a.dc("formGroup",i.signUp),a.Ab(1),a.dc("ngIf",!i.signInForm),a.Ab(1),a.dc("ngIf",null==i.signUp.get("confirmPassword").errors?null:i.signUp.get("confirmPassword").errors.mismatch),a.Ab(1),a.dc("ngIf",null==i.signUp.get("password").errors?null:i.signUp.get("password").errors.minlength))},directives:[o.c,s.j,s.g,s.d,r.l,s.a,s.f,s.c],styles:["@import url(\"https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap\");@import url(\"https://fonts.googleapis.com/css2?family=Oswald&display=swap\");*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;overflow:hidden}a[_ngcontent-%COMP%]{text-decoration:none!important;color:#fff}a[_ngcontent-%COMP%]:hover{color:#f0f8ff}.top-bar[_ngcontent-%COMP%]{width:100%;height:8vh;background-color:#212121;display:flex;justify-content:space-between;align-items:center;padding:0 1rem;position:fixed;z-index:100}ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{cursor:pointer}.register-now[_ngcontent-%COMP%]{color:#f0f8ff}.link[_ngcontent-%COMP%]:hover{color:#6495ed;text-decoration:underline;cursor:pointer}.logo[_ngcontent-%COMP%]{display:inline-block;margin:0;height:3rem;font-family:Oswald,sans-serif;font-weight:300;font-size:3rem;color:#fff;padding-top:6px}.logo[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1);transition:all 1s}.logo[_ngcontent-%COMP%]:active, .logo[_ngcontent-%COMP%]:focus{outline:none}.intro[_ngcontent-%COMP%]{height:100vh;background-color:#000;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25' viewBox='0 0 1600 800'%3E%3Cg %3E%3Cpolygon fill='%23222222' points='800 100 0 200 0 800 1600 800 1600 200'/%3E%3Cpolygon fill='%23444444' points='800 200 0 400 0 800 1600 800 1600 400'/%3E%3Cpolygon fill='%23666666' points='800 300 0 600 0 800 1600 800 1600 600'/%3E%3Cpolygon fill='%23888888' points='1600 800 800 400 0 800'/%3E%3Cpolygon fill='%23aaaaaa' points='1280 800 800 500 320 800'/%3E%3Cpolygon fill='%23cccccc' points='533.3 800 1066.7 800 800 600'/%3E%3Cpolygon fill='%23EEE' points='684.1 800 914.3 800 800 700'/%3E%3C/g%3E%3C/svg%3E\");background-attachment:fixed;background-size:cover;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.login-card[_ngcontent-%COMP%]{background-color:#212121;border:.2px solid #26418f;height:600px;width:400px;max-width:90%;max-height:80%;border-radius:10px}.input-field[_ngcontent-%COMP%]{border-radius:500px;border:1px solid grey;box-sizing:border-box;display:block;width:80%;height:3rem;padding:14px;font-size:.95rem;background-color:#212121;color:#fff}.input-field[_ngcontent-%COMP%]:focus{outline:none;border-color:#f0f8ff}.login-form-container[_ngcontent-%COMP%]{display:flex;height:300px;margin-top:100px;flex-direction:column;justify-content:space-evenly;align-items:center}.login-btn[_ngcontent-%COMP%]{background-color:#26418f;border-radius:20px;color:#f0f8ff;border:none;width:50%;height:2rem}.login-btn[_ngcontent-%COMP%]:hover{background-color:#f0f8ff;color:#26418f}"]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(i){return new(i||e)},imports:[[o.e.forChild(f)],o.e]}),e})(),v=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(i){return new(i||e)},imports:[[r.c,m,s.h,c.b,s.e]]}),e})()}}]);